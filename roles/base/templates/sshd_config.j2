# SSH Configuration - Managed by Ansible
Port {{ ssh_port }}
Protocol 2

# Authentication configuration
PasswordAuthentication {{ 'yes' if allow_password_auth else 'no' }}
PubkeyAuthentication yes
AuthorizedKeysFile .ssh/authorized_keys

# Allowed users for access
AllowUsers {{ ssh_users | join(' ') }}

# Security settings
PermitRootLogin no
PermitEmptyPasswords no
MaxAuthTries 3
MaxSessions 2

# Other settings
UseDNS no
TCPKeepAlive yes
ClientAliveInterval 300
ClientAliveCountMax 2

# Logging
SyslogFacility AUTH
LogLevel INFO 